@model PagedPostViewModel
@{

}

<section>
    <div class="list-group list-group-flush">
        @foreach (var post in Model.Posts)
        {
            <div class="list-group-item p-0 mb-4 pb-3">
                <div class="text-muted fs-sm">@Html.Raw(post.MetadataHtml)</div>
                <h2 class="mb-3">
                    <a href="@post.Current.GetFullPath()" class="text-decoration-none">
                        @post.Current.Metadata.Title

                    </a>
                    @if (post.Current.Metadata.IsTopping)
                    {
                        <span class="badge bg-success fs-6">置顶</span>
                    }

                    @if (!post.Current.Metadata.IsPublished)
                    {
                        <span class="badge bg-warning fs-6">
                            未发布
                        </span>
                    }
                </h2>
                <div>
                    @if (!string.IsNullOrEmpty(post.Current.Thumbnail))
                    {
                        <img src="@post.Current.Thumbnail" class="img-fluid mb-2">
                    }

                    @Html.Raw(post.Current.ExcerptHtml)
                </div>
            </div>
        }
    </div>

</section>

<page total-pages="@Model.TotalPages" current-page="@Model.CurrentPage" url="@Model.Url"></page>

@section Script {
    <script src="~/index.min.js" asp-append-version="true"></script>
}