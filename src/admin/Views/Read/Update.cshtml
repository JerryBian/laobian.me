@model Laobian.Share.Read.BookItem
<h3>编辑阅读</h3>
<form class="needs-validation" action="/read/update" method="post" novalidate>
    <div class="mb-3">
        <label for="bookName" class="form-label">书籍名称</label>
        <input type="text" class="form-control" id="bookName" name="bookName" placeholder="书籍名称" value="@Model.BookName" autocomplete="off" autofocus required>
        <div class="invalid-feedback">
            必填
        </div>
    </div>
    <div class="mb-3">
        <label for="bookName2" class="form-label">书籍名称2</label>
        <input type="text" class="form-control" id="bookName2" name="bookName2" placeholder="书籍名称2" value="@Model.BookName2" autocomplete="off">
    </div>
    <div class="mb-3">
        <label for="authorName" class="form-label">作者</label>
        <input type="text" class="form-control" id="authorName" name="authorName" placeholder="作者" value="@Model.AuthorName" autocomplete="off">
    </div>
    <div class="mb-3">
        <label for="authorCountry" class="form-label">作者国籍</label>
        <input type="text" class="form-control" id="authorCountry" name="authorCountry" placeholder="作者国籍" value="@Model.AuthorCountry" autocomplete="off">
    </div>
    <div class="mb-3">
        <label for="translator" class="form-label">译者</label>
        <input type="text" class="form-control" id="translator" name="translator" placeholder="译者" value="@Model.Translator" autocomplete="off">
    </div>
    <div class="mb-3">
        <label for="publisherName" class="form-label">出版社</label>
        <input type="text" class="form-control" id="publisherName" name="publisherName" placeholder="出版社" value="@Model.PublisherName" autocomplete="off">
    </div>
    <div class="mb-3">
        <label for="publishTime" class="form-label">出版时间</label>
        <input type="date" class="form-control" id="publishTime" name="publishTime" value="@Model.PublishTime.ToDate()" autocomplete="off">
    </div>
    <div class="mb-3">
        <label for="startTime" class="form-label">开始时间</label>
        <input type="date" class="form-control" id="startTime" name="startTime" value="@Model.StartTime.ToDate()" autocomplete="off" readonly>
        <div class="invalid-feedback">
            必填
        </div>
    </div>
    <div class="mb-3">
        <label for="endTime" class="form-label">结束时间</label>
        <input type="date" class="form-control" id="endTime" name="endTime" value="@Model.EndTime.ToDate()" autocomplete="off">
    </div>
    <div class="mb-3">
        <label for="blogPostLink" class="form-label">博客链接</label>
        <input type="text" class="form-control" id="blogPostLink" name="blogPostLink" placeholder="博客链接" value="@Model.BlogPostLink" autocomplete="off">
    </div>
    <div class="mb-3">
        <label for="shortComment" class="form-label">短评</label>
        <textarea class="form-control" id="shortComment" name="shortComment" rows="3" placeholder="短评" autocomplete="off">@Model.ShortComment</textarea>
    </div>
    <div class="mb-3">
        <label for="grade" class="form-label">评分</label>
        <input type="number" class="form-control" id="grade" name="grade" value="@Model.Grade" min="-1" max="1" step="1" autocomplete="off" aria-describedby="gradeHelp">
        <div id="gradeHelp" class="form-text">-1：差评；0：一般般；1：好评</div>
    </div>
    <div class="form-check form-switch mb-3">
        @if (Model.IsCompleted)
        {
            <input class="form-check-input" type="checkbox" id="isCompleted" name="isCompleted" checked>
        }
        else
        {
            <input class="form-check-input" type="checkbox" id="isCompleted" name="isCompleted">
        }
        <label class="form-check-label" for="isCompleted">标记为完成</label>
    </div>
    <div class="d-grid">
        <button type="submit" class="btn btn-primary btn-lg">提交</button>
    </div>

    <input type="hidden" name="id" value="@Model.Id" />
</form>

@section Scripts {
    <script>
        const shortCommentEditor = prepareEditor(document.querySelector("#shortComment"), "read_update_short_comment_@Model.Id");
    </script>
}